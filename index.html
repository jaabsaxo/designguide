<!DOCTYPE html>
<html>
<body>

<form>
  <label for="fname">Endpoint</label><br>
  <input type="text" id="fname" name="fname"><br>
</form>
<br/>
<br/>


<form>
  Is the design resource centric?
  <input type="checkbox" id="q1">
  <label for="q1"> Passed </label> <br/><br/>
</form>
<form>
  Does the design leak implementation details?
  <input type="checkbox" id="q2">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>


<h3>Routes</h3>
<form>
  Does the routes use plurals to represent collections?
  <input type="checkbox" id="q3">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are there delimiters and spacers in path?
  <input type="checkbox" id="q4">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Is partner only resources in a /partner path?
  <input type="checkbox" id="q5">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="routesfield" name="fname"><br>


<h3>Http verbs</h3>
<form>
  Do they use the right HTTP verbs?
  <input type="checkbox" id="q6">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use POST for getting resources when payload is large or PII data is present?
  <input type="checkbox" id="q7">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="verbsfield" name="fname"><br>


<h3>Relationships and nested resources</h3>
<form>
  Do they expose more than just the ids of related resources?
  <input type="checkbox" id="q8">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use field groups to expose linked ressources?
  <input type="checkbox" id="q9">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use sub-collections properly?
  <input type="checkbox" id="q10">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="nestingfield" name="fname"><br>


<h3>Datatypes and serialization</h3>
<form>
  Is everything pascal cased?
  <input type="checkbox" id="q11">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are property names in nested arrays in plural?
  <input type="checkbox" id="q12">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use dates and datetimes right?
  <input type="checkbox" id="q13">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Does ids expose any data?
  <input type="checkbox" id="q14">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are there any "bleed" through of .net data types?
  <input type="checkbox" id="q15">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use booleans right?
  <input type="checkbox" id="q16">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are they using simple types when they should?
  <input type="checkbox" id="q17">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="datatypesfield" name="fname"><br>


<h3>Naming</h3>
<form>
  Are any names redundant?
  <input type="checkbox" id="q18">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use the same name for the same thing?
  <input type="checkbox" id="q19">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use the type for the same thing?
  <input type="checkbox" id="q20">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they return properties without values?
  <input type="checkbox" id="q21">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="namingfield" name="fname"><br>


<h3>Returning a collection</h3>
<form>
  Do they use the collection envelope properly?
  <input type="checkbox" id="q22">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Is pagination offered when it should be?
  <input type="checkbox" id="q23">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are they using other than 200 OK or 400 Bad Request?
  <input type="checkbox" id="q24">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="collectionfield" name="fname"><br>


<h3>Returning a resource</h3>
<form>
  Are they using collection envelopes for single resources?
  <input type="checkbox" id="q25">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are they using other than 200 OK or 404 Not Found?
  <input type="checkbox" id="q26">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="returningresourcefield" name="fname"><br>


<h3>Creating a resource</h3>
<form>
  Do they use POST or PUT right?
  <input type="checkbox" id="q27">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Are there deadends after creation?
  <input type="checkbox" id="q28">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use the right status code?
  <input type="checkbox" id="q29">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="creatingresourcefield" name="fname"><br>


<h3>Updating a resource</h3>
<form>
  Does it make sense to update the entire resource with PUT?
  <input type="checkbox" id="q30">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Or should they use Patch instead for an partial update?
  <input type="checkbox" id="q31">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use 200 OK, 204 No contenet or 400 Bad Request right?
  <input type="checkbox" id="q32">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="updatingresourcefield" name="fname"><br>


<h3>Streaming</h3>
<form>
  Is streaming initiated with a subscription?
  <input type="checkbox" id="q33">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they use the common subscription request model?
  <input type="checkbox" id="q34">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Do they provide a snapshot in the subscription response?
  <input type="checkbox" id="q35">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Can subscriptions be deleted?
  <input type="checkbox" id="q36">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="streamingfield" name="fname"><br>


<h3>Visibility and user roles</h3>
<form>
  Does visibility make sense?
  <input type="checkbox" id="q37">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  Does user roles make sense?
  <input type="checkbox" id="q38">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<form>
  have they considered market data restrictions?
  <input type="checkbox" id="q39">
  <label for="vehicle1"> Passed </label><br/><br/>
</form>
<input type="text" id="rolesfield" name="fname"><br>


<br/>
<br/>
<br/>
<br/>
<button onclick="checkScore()">Calculate score</button>
<br/>
<br/>
<br/>

<p>Previous endpoint:</p>
<p id="previous"></p>
<button onclick="Load()">Load</button>
<button onclick="Save()">Save</button>

<script>
document.getElementById('fname').style.width="800px";
document.getElementById('routesfield').style.width="800px";
document.getElementById('streamingfield').style.width="800px";
document.getElementById('updatingresourcefield').style.width="800px";
document.getElementById('creatingresourcefield').style.width="800px";
document.getElementById('returningresourcefield').style.width="800px";
document.getElementById('collectionfield').style.width="800px";
document.getElementById('namingfield').style.width="800px";
document.getElementById('datatypesfield').style.width="800px";
document.getElementById('nestingfield').style.width="800px";
document.getElementById('verbsfield').style.width="800px";
document.getElementById('rolesfield').style.width="800px";

document.getElementById("fname").value = localStorage.getItem("gghfj-previous-endpoint")

function checkScore() {
  var score = 0;
  var number_of_checks = 0;

  var all = document.getElementsByTagName("input");

  for (let item of all) {
    if (item.type == "checkbox") {
      if (document.getElementById(item.id).checked) {
        score += 1;
      }
      number_of_checks += 1;
    }
  }
  console.log((Math.round((score/number_of_checks)*1000)/10) + " %")
}


function Save() {

  var all = document.getElementsByTagName("input");
  var state = {"checkbox": {},
                "text": {}};

  for (let item of all) {
    if (item.type == "checkbox") {
      k = item.id
      v = document.getElementById(k).checked
      state["checkbox"][k] = v;
    }
    if (item.type == "text") {
      if (item.id != "fname") {
        k = item.id
        v = document.getElementById(k).value
        state["text"][k] = v;
      }
    }
  }


  var endpoint = document.getElementById("fname").value
  localStorage.setItem(endpoint, JSON.stringify(state));
  localStorage.setItem("gghfj-previous-endpoint", endpoint);
}

function Load() {
  var endpoint = document.getElementById("fname").value
  let state = JSON.parse(localStorage.getItem(endpoint));
  console.log("loaded state:")
  console.log(state)
  for (var key in state["checkbox"]) {
    if (state["checkbox"][key] == true) {
      document.getElementById(key).checked = true
    }
  }
  for (var key in state["text"]) {
      document.getElementById(key).value = state["text"][key]
  }
}
</script>

</body>
</html>